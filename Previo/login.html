<!DOCTYPE html>
<html>
<head></head>
<body>

<script type='text/javascript'>
    var http_request = new XMLHttpRequest();
    var base_url = "http://fenw.etsisi.upm.es:1723";

    function logIn() {
        let url = base_url+ "/users/login?username=" + document.getElementById("usuario").value+"&password="+document.getElementById("password").value;
        console.log(url);
        http_request.open("GET", url,true);
        http_request.responseType = 'json';
        http_request.onload = tokenSave;
        http_request.send();
    }

    function tokenSave() {
        if (http_request.status === 200){
            console.log(http_request.getResponseHeader("Authorization"));
            http_request.getResponseHeader("Authorization").toString();
            console.log(http_request.getResponseHeader("Authorization").toString().split("rer ")[1])
        }else {
            console.log(http_request.response);
        }
    }
</script>

<form name="login_form" method="post" action="#" id="login_form">
    <table border="1">
        <tr>
            <td>Usuario:</td>
            <td><input type="Text" name="usuario" id="usuario" size="10" maxlength="10"></td>
            <td>Contrase√±a:</td>
            <td><input type="Text" name="password" id='password' size="10" maxlength="10"></td>
        </tr>
        <tr>
            <td><input type="button" value="Enviar" onclick="logIn()"></td>
            <td><input type="Reset" value="Borrar"></td>
        </tr>
    </table>
</form>
</body>
</html>